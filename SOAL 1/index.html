<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=2.0" />
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-EVSTQN3/azprG1Anm3QDgpJLIm9Nao0Yz1ztcQTwFspd3yD65VohhpuuCOmLASjC" crossorigin="anonymous" />
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.6.0/jquery.min.js"></script>
    <title>Soal 1 Bryan Adi</title>
  </head>
  <body class="bg-warning" >
    <section class="container-fluid">
      <section class="row mt-3 pt-3 justify-content-center">
        <div class="p-3 mb-2 bg-warning text-dark" style="text-align: center"><p class="h1">BRYAN ADI PRAKOSO</p></div>
        <section class="col-sm-6 col-md-4">
            <br>
             <div class="card bg-warning text-black">
          <div class="card-header">
            <div class="card-body">Kalkulator Nilai Mahasiswa</div>
            <br>
            <div class="card-body">
              <form name="form" class="form-container">
                <div class="form-floating mb-3 mt-3">
                  <input type="text" class="form-control" id="nm" placeholder=" " name="" onkeypress="return validasiHuruf(event)" />
                  <label for="ferrari">Input Nama :</label>
                </div>
                <div class="form-floating mb-3 mt-3">
                  <input type="text" class="form-control" id="NIM" placeholder=" " name="" maxlength="12" onkeypress="return validasiAngka(event)" />
                  <label for="ferrari">Input Nim :</label>
                </div>
                <div class="form-floating mb-3 mt-3">
                  <input type="text" class="form-control" id="tg" placeholder=" " name="" maxlength="3" onkeypress="return validasiAngka(event)" />
                  <label for="ferrari">Input Nilai Tugas :</label>
                </div>
                <div class="form-floating mb-3 mt-3">
                  <input type="text" class="form-control" id="pts" placeholder=" " name="" maxlength="3" onkeypress="return validasiAngka(event)" />
                  <label for="ferrari">Input Nilai Partisipasi :</label>
                </div>
                <div class="form-floating mb-3 mt-3">
                  <input type="text" class="form-control" id="uts" placeholder=" " name="" maxlength="3" onkeypress="return validasiAngka(event)" />
                  <label for="ferrari">Input Nilai Uts :</label>
                </div>
                <div class="form-floating mb-3 mt-3">
                  <input type="text" class="form-control" id="uas" placeholder=" " name="" maxlength="3" onkeypress="return validasiAngka(event)" />
                  <label for="ferrari">Input Nilai Uas :</label>
                </div>
                <div class="toast hide" id="demo">
                  <div class="toast-header">
                    <strong class="me-auto"> Output Nilai Akhir:</strong>
                    <button type="button" class="btn-close close" data-bs-dismiss="toast"></button>
                  </div>
                  <div class="toast-body">
                    <p id="angka"></p>
                    <p id="huruf"></p>
                  </div>
                </div>
                <div class="mb-3 mt-3">
                  <button type="button" class="btn btn-success text-center" id="kirim">Hitung</button>
                </div>
              </form>
            </div>
          </div>
        </section>
      </section>
    </section>
    <footer class="bg-dark text-white text-center pb-3 fixed-bottom"></footer>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.6.0/jquery.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/js/bootstrap.bundle.min.js" integrity="sha384-MrcW6ZMFYlzcLA8Nl+NtUVF0sA7MsXsP1UyJoMp4YLEuNSfAP+JcXn/tWtIaxVXM" crossorigin="anonymous"></script>
    <script>
      $('body').on('click', '.close', function () {
        $(this).closest('.toast').toast('hide');
      });
      function validasiAngka(evt) {
        let masukan = evt.which ? evt.which : event.masukan;
        if (masukan > 31 && (masukan < 48 || masukan > 57)) {
          return false;
        }
        return true;
      }

      function validasiHuruf(evt) {
        var charCode = evt.which ? evt.which : event.keyCode;
        if ((charCode < 65 || charCode > 90) && (charCode < 97 || charCode > 122) && charCode > 32) {
          return false;
        }
        return true;
      }

      document.getElementById('kirim').addEventListener('click', kalkulasi);

      function kalkulasi() {
        let nim = document.getElementById('NIM').value;
        let nm = document.getElementById('nm').value;
        let tg = document.getElementById('tg').value;
        let pts = document.getElementById('pts').value;
        let uts = document.getElementById('uts').value;
        let uas = document.getElementById('uas').value;
        let huruf = '';

        if (nim === '' || nm === '' || tg == 0 || pts == 0 || uts == 0 || uas == 0) {
          alert('Mohon Isi Semua Form dan Tidak Ada Yang Kosong!');
        } else {
          if (tg > 100 || pts > 100 || uts > 100 || uas > 100) {
            alert('Mohon Maaf Nilai Angka Tidak Lebih Dari 100');
          } else {
            let nilaiAngka = (Number(tg) + Number(pts) + Number(uts) + Number(uas)) / 4;
            if (nilaiAngka <= 50) {
              huruf = 'C';
              kirim(huruf, nilaiAngka);
            } else if (nilaiAngka > 50 && nilaiAngka <= 60) {
              huruf = 'C+';
              kirim(huruf, nilaiAngka);
            } else if (nilaiAngka > 60 && nilaiAngka <= 70) {
              huruf = 'B';
              kirim(huruf, nilaiAngka);
            } else if (nilaiAngka > 70 && nilaiAngka <= 80) {
              huruf = 'B+';
              kirim(huruf, nilaiAngka);
            } else if (nilaiAngka > 80 && nilaiAngka <= 90) {
              huruf = 'A';
              kirim(huruf, nilaiAngka);
            } else if (nilaiAngka > 90 && nilaiAngka <= 100) {
              huruf = 'A+';
              kirim(huruf, nilaiAngka);
            }
            function kirim(huruf, nilaiAngka) {
              document.getElementById('demo').classList.remove('hide');
              document.getElementById('demo').classList.add('show');
              document.getElementById('angka').innerHTML = '<b>Nilai Rata-rata :</b> ' + nilaiAngka;
              document.getElementById('huruf').innerHTML = '<b>Nilai huruf :</b> ' + huruf;
            }
          }
        }
      }
    </script>
  </body>
</html>
